{% extends 'base.html' %}
    {% block body %}
    {% load static %}
    <style>
        .enter{
            display: flex;
            align-items: center;
            justify-content: center;   
        }
        .hide{
			display: none;
    	}
    </style>
    
    <script src="{% static 'js/ledger.js' %}"></script>

  <div class="m-2">
        <h6 class="bg-info text-light p-2 m-0 text-center"><a href="javascript:history.go(-1);" class="close">&times;</a>
            Ledger Creation
        </h6>
        <form class="p-2" style="background-color:rgba(0,0,0,.4);" method="post" action="{% url 'create_ledger' %}" autocomplete="off">
            {% csrf_token %}
            <div class="p-0">
                <div class="row container-fluid p-0 m-0" >
                    <div class="col-sm-6 m-0 p-4">
                        <div class="row container-fluid  p-2 m-0">
                            <div class="col-sm-3 m-0 p-0"> <label for="a" >Name</label></div>
                            <div class="col-sm-6 m-0 p-0">
                                <input onchange="showname()" required type="text" class="form-control" id="name"  placeholder="" name="name" required>
                            </div>
                        </div>
                        <div class="row container-fluid  p-2 m-0">
                            <div class="col-sm-3 m-0 p-0"> <label for="b">Alias</label></div>
                            <div class="col-sm-6 m-0 p-0"> 
                                <input type="text" class="form-control" id="b" placeholder="" name="alias">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-3 m-0 p-0"></div>
                    <div class="col-sm-3 m-0 p-0" style="background-color:rgba(0,0,0,.2);">
                        <h6 class="text-center p-3">Total Opening Balance</h6>
                    </div>
                </div>
            </div> 
            <div class="row container-fluid  p-0 m-0" style=" border: 1px solid rgba(128, 128, 128, 0.6);">
                <div class="col-sm-6 m-0 p-4" style=" border-right: 1px solid rgba(128, 128, 128, 0.6);">
                    <div class="row container-fluid  p-2">
                        <div class="col-sm-6 m-0 p-0"> <label for="c">Under</label></div>
                        <div class="col-sm-6 m-0 p-0">
                            <select name="under" id="under" class="form-control" onchange="showunder()" required>
                                <option value="Bank_Accounts">Bank Accounts</option>
                                <option value="Bank_OCC_AC">Bank OCC A/c</option>
                                <option value="Bank_OD_A/c">Bank OD A/c</option>
                                <option value="Branch_Divisions">Branch Divisions</option>
                                <option value="Capital_Account" selected>Capital Account</option>
                                <option value="Cash_in_Hand">Cash in Hand</option>
                                <option value="Current_Assets">Current Assets</option>
                                <option value="Current_Liabilities">Current Liabilities</option>
                                <option value="Deposits (Asset)">Deposits (Asset)</option>
                                <option value="Direct_Expenses">Direct Expenses</option>
                                <option value="Direct_Incomes">Direct Incomes</option>
                                <option value="Duties_and_Taxes">Duties and Taxes</option>
                                <option value="Expences_Direct">Expenses(Direct)</option>
                                <option value="Expences_Indirect">Expenses(Indirect)</option>
                                <option value="Fixed_Assets">Fixed Assets</option>
                                <option value="Income_direct">Income (Direct)</option>
                                <option value="Income_Indirect">Income (Indirect)</option>
                                <option value="Investments">Investments</option>
                                <option value="Loans_Advance">Loans & Advances (Asset)</option>
                                <option value="Loans_liability">Loans (Liability)</option>
                                <option value="Mis_Expenses">Misc. Expenses (Asset)</option>
                                <option value="Provisions">Provisions</option>
                                <option value="Purchase_Account">Purchase Accounts</option>
                                <option value="Reserves_&_Surplus">Reserves & Surplus</option>
                                <option value="Retained">Retained Earnings</option>
                                <option value="Sales_Account">Sales Accounts</option>
                                <option value="Secured_loans">Secured Loans</option>
                                <option value="Stock">Stock-in-Hand</option>
                                <option value="Sundry_Creditors">Sundry Creditors</option>
                                <option value="Sundry_Debtors">Sundry Debtors</option>
                                <option value="Suspence">Suspence A/c</option>
                                <option value="Unsecured_loans">Unsecured Loans</option> 
                                {% for g in grp %}
                                    <option value="{{ g.group_name }}">{{ g.group_name }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="row container-fluid hide p-2" id="assets">
                            <div class="col-sm-6 m-0 p-0"></div>
                            <div class="col-sm-6 m-0 p-0">&nbsp;&nbsp;&nbsp;&nbsp;<label for=""><i>(Current Assets)</i></label></div>
                        </div>
                        <div class="row container-fluid hide p-2 m-0"  id="loans">
                            <div class="col-sm-6 m-0 p-0"></div>
                            <div class="col-sm-6 m-0 p-0">&nbsp;&nbsp;&nbsp;&nbsp;<label for=""><i>(Loans (Liability))</i></label></div>
                        </div>
                        <div class="row container-fluid hide p-2 m-0"  id="liabilities">
                            <div class="col-sm-6 m-0 p-0"></div>
                            <div class="col-sm-6 m-0 p-0">&nbsp;&nbsp;&nbsp;&nbsp;<label for=""><i>(Current Liabilities)</i></label></div>
                        </div>
                        <div class="row container-fluid hide p-2 m-0"  id="account">
                            <div class="col-sm-6 m-0 p-0"></div>
                            <div class="col-sm-6 m-0 p-0">&nbsp;&nbsp;&nbsp;&nbsp;<label for=""><i>(Capital Account)</i></label></div>
                        </div>  
                        <div class="row container-fluid p-2 m-0 hide" id="bankod_a/c">
                            <div class="col-sm-6 m-0 p-0"> <label for="pan">Set OD limit</label></div>
                            <div class="col-sm-6 m-0 p-0">
                                <input type="text" value="{{cmp.name}}" class="form-control" id="odlimit" placeholder="" name="set_odl">
                            </div>  
                        </div>
                    </div>

                    
                    <div class="row container-fluid bankac hide p-0" id="banka/c">
                        <h6 class="p-3">Bank Account Details</h6>
                        <div class="row container-fluid  p-2 m-0">
                            <div class="col-sm-6 m-0 p-0"> <label for="pan">A/c Holder's Name</label></div>
                            <div class="col-sm-6 m-0 p-0">
                                <input type="text" value="{{cmp.name}}" class="form-control" id="acna" placeholder="" name="ac_holder_nm">
                            </div>  
                        </div>
                        <div class="row container-fluid  p-2 m-0">
                            <div class="col-sm-6 m-0 p-0"> <label for="pan">A/c No.</label></div>
                            <div class="col-sm-6 m-0 p-0">
                                <input type="text" class="form-control" id="acno" placeholder="" name="acc_no">
                            </div>   
                        </div>
                        <div class="row container-fluid  p-2 m-0">
                            <div class="col-sm-6 m-0 p-0"> <label for="pan">IFS Code</label></div>
                            <div class="col-sm-6 m-0 p-0">
                                <input type="text" class="form-control" id="ifs" placeholder="" name="ifsc_code">
                            </div> 
                        </div>
                        <div class="row container-fluid  p-2 m-0">
                            <div class="col-sm-6 m-0 p-0"> <label for="pan">SWIFT Code</label></div>
                            <div class="col-sm-6 m-0 p-0">
                                <input type="text" class="form-control" id="swift" placeholder="" name="swift_code">
                            </div>  
                        </div>
                        <div class="row container-fluid   p-2 m-0">
                            <div class="col-sm-6 m-0 p-0"> <label for="rgtype" >Bank Name</label></div>
                            <div class="col-sm-6 m-0 p-0">
                                <select name="bank_name" id="" class="form-control">
                                    <option value="not applicable">Not applicable</option>  
                                </select>
                            </div>
                        </div>
                        <div class="row container-fluid  p-2 m-0">
                            <div class="col-sm-6 m-0 p-0"> <label for="pan">Branch</label></div>
                            <div class="col-sm-6 m-0 p-0">
                                <input type="text" class="form-control" id="branch" placeholder="" name="branch">
                            </div>  
                        </div>
                        <h6 class="p-3">Bank Configuration</h6>
                        <div class="row container-fluid   p-2 m-0">
                            <div class="col-sm-6 m-0 p-0"> <label for="rgtype" >Set/Alter range for Cheque Books</label></div>
                            <div class="col-sm-6 m-0 p-0">
                                <select name="SA_cheque_bk" id="chqrng" class="form-control">
                                    <option value="No">No</option>
                                    <option value="Yes">Yes</option>  
                                </select>
                            </div>
                        </div>
                        <div class="row container-fluid   p-2 m-0">
                            <div class="col-sm-6 m-0 p-0"> <label for="rgtype" >Enable Cheque printing</label></div>
                            <div class="col-sm-6 m-0 p-0">
                                <select name="Echeque_p" id="chqprnt" class="form-control">
                                    <option value="No">No</option>
                                    <option value="Yes" selected>Yes</option>   
                                </select>
                            </div>
                        </div>
                        <div class="row container-fluid   p-2 m-0">
                            <div class="col-sm-6 m-0 p-0"> <label for="rgtype" >Set/Alter Cheque Printing Configuration</label></div>
                            <div class="col-sm-6 m-0 p-0">
                                <select name="SA_chequeP_con" id="ch_config" class="form-control">
                                    <option value="No">No</option>
                                    <option value="Yes">Yes</option>     
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="row container-fluid p-0 m-0 hide" id="Type_of_ledger">
                        <div class="row container-fluid  p-2" id="">
                            <div class="col-sm-6 m-0 p-0"> <label for="c">Type of Ledger</label></div>
                            <div class="col-sm-6 m-0 p-0">
                                <select name="" id="typledger" class="form-control" onchange="typ_ledger()">
                                    <option value=""></option>
                                    <option value="Not_Applicable">Not Applicable</option>
                                    <option value="Discount">Discount</option>
                                    <option value="Invoice_Rounding">Invoice Rounding</option>
                                </select>
                            </div>
                        </div>
                        <div class="row container-fluid p-0 m-0 hide" id="rounding_method1">
                            <div class="row container-fluid  p-2" >
                                <div class="col-sm-6 m-0 p-0"><label for="c">Rounding Method</label></div>
                                <div class="col-sm-6 m-0 p-0">
                                    <select name="" id="" class="form-control">
                                        <option value="Downward_Rounding">Downward Rounding</option>
                                        <option value="Normal_Rounding">Normal Rounding</option>
                                        <option value="Upward_Rounding">Upward Rounding</option>
                                    </select>
                                </div>
                            </div>
                            <div class="row container-fluid p-2" id="">
                                <div class="col-sm-6 m-0 p-0"><label for="c">Rounding Limit</label></div>
                                <div class="col-sm-6 m-0 p-0">
                                    <input type="text" class="form-control" id="" name="" value="1">
                                </div>
                            </div> 
                        </div>    
                    </div>

                    <div class="row container-fluid p-0 m-0 hide" id="Duties&Taxes">
                        <div class="row container-fluid  p-2" id="">
                            <div class="col-sm-6 m-0 p-0"> <label for="c">Type of duty / tax</label></div>
                            <div class="col-sm-6 m-0 p-0">
                                <select name="" id="type_duty_tax" class="form-control" onchange="typ_dttax()">
                                    <option value="null"></option>
                                    <option value="Others">Others</option>
                                    <option value="GST">GST</option>
                                </select>
                            </div>
                        </div>
                        <div class="row container-fluid hide p-2" id="tax_type">
                            <div class="col-sm-6 m-0 p-0"> <label for="c">Tax Type</label></div>
                            <div class="col-sm-6 m-0 p-0">
                                <select name="" id="taxtype" class="form-control" onchange="tax_type0()">
                                    <option value=""></option>
                                    <option value="Central_Tax">Central Tax</option>
                                    <option value="Cess">Cess</option>
                                    <option value="Integrated_Tax">Integrated Tax</option>
                                    <option value="State_Tax">State Tax</option>
                                </select>
                            </div>
                        </div> 
                        <div class="row container-fluid hide p-2" id="val_type">
                            <div class="col-sm-6 m-0 p-0"><label for="c">Valuation Type</label></div>
                            <div class="col-sm-6 m-0 p-0">
                                <select name="" id="valtype" class="form-control" onchange="valtype0()">
                                    <option value="Any">Any</option>
                                    <option value="Based_on_Quantity">Based on Quantity</option>
                                    <option value="Based_on_Value">Based on Value</option>
                                </select>
                            </div>
                        </div> 
                        <div class="row container-fluid hide p-2" id="rate_per_unit">
                            <div class="col-sm-6 m-0 p-0"> <label for="c">Rate Per unit</label></div>
                            <div class="col-sm-6 m-0 p-0">
                                <input type="text" class="form-control" id="" name="" value="0">
                            </div>
                        </div> 
                        <div class="row container-fluid hide p-2" id="perc_calc">
                            <div class="col-sm-6 m-0 p-0"> <label for="c">Percentage of calcution</label></div>
                            <div class="col-sm-6 m-0 p-0">
                                <input type="text" class="form-control" id="" name="" value="0%">
                            </div>
                        </div> 
                    </div>

                    <div class="row container-fluid p-0 m-0 hide" id="rounding_method">
                        <div class="row container-fluid  p-2" >
                            <div class="col-sm-6 m-0 p-0"> <label for="c">Rounding Method</label></div>
                            <div class="col-sm-6 m-0 p-0">
                                <select name="" id="rond_met" class="form-control" onchange="round_mthd()">
                                    <option value="Not_Applicable">Not Applicable</option>
                                    <option value="Downward_Rounding">Downward Rounding</option>
                                    <option value="Normal_Rounding">Normal Rounding</option>
                                    <option value="Upward_Rounding">Upward Rounding</option>
                                </select>
                            </div>
                        </div>
                        <div class="row container-fluid hide p-2" id="rounding_limit">
                            <div class="col-sm-6 m-0 p-0"><label for="c">Rounding Limit</label></div>
                            <div class="col-sm-6 m-0 p-0">
                                <input type="text" class="form-control" id="" name="" value="0">
                            </div>
                        </div> 
                    </div>    

                    <div class="row container-fluid p-0" id="sd">
                        <h6 class="p-3 hide" id="statutory_details">Statutory Details</h6>
                        <div class="row container-fluid p-2 m-0 hide" id="sd_1">
                            <div class="col-sm-6 m-0 p-0"><label for="">Is GST Applicable</label></div>
                            <div class="col-sm-6 m-0 p-0">
                                <select name="" id="gst_applicable" class="form-control" onchange="showgstA()">
                                    <option value=""></option>
                                    <option value="Not_Applicable">Not Applicable</option>
                                    <option value="Applicable">Applicable</option>     
                                    <option value="Undifined">Undifined</option>     
                                </select>
                            </div>
                        </div>
                        <div class="row container-fluid p-2 m-0 hide" id="sd_2">
                            <div class="col-sm-6 m-0 p-0"><label for="">Set / Alter GST Details</label></div>
                            <div class="col-sm-6 m-0 p-0">
                                <select name="" id="" class="form-control">
                                    <option value="No">No</option>
                                    <option value="Yes">Yes</option>     
                                </select>
                            </div>
                        </div>
                        <div class="row container-fluid p-2 m-0 hide" id="sd_3">
                            <div class="col-sm-6 m-0 p-0"><label for="">Type of Supply</label></div>
                            <div class="col-sm-6 m-0 p-0">
                                <select name="" id="" class="form-control">
                                    <option value="Good">Good</option>
                                    <option value="Service" selected>Service</option>     
                                </select>
                            </div>
                        </div>
                        
                        <div class="row container-fluid p-2 m-0 hide" id="sd_4">
                            <div class="col-sm-6 m-0 p-0"><label for="">Include assessable value calculations for </label></div>
                            <div class="col-sm-6 m-0 p-0">
                                <select name="" id="call_gst" class="form-control" onchange="showAssets()">
                                    <option value="Not_Applicable">Not Applicable</option>
                                    <option value="GST">GST</option>     
                                </select>
                            </div>
                        </div>
                        
                    
                        <div class="row container-fluid p-2 m-0 hide" id="appropriate_to">
                            <div class="col-sm-6 m-0 p-0"> <label for="" >Appropriate to</label></div>
                            <div class="col-sm-6 m-0 p-0">
                                <select name="" id="appropriate" class="form-control" onchange="showbased()">
                                    <option value="Both">Both</option>
                                    <option value="Goods">Goods</option>
                                    <option value="Services">Services</option>      
                                </select>
                            </div>
                        </div>
                        <div class="row container-fluid  p-2 m-0 hide" id="method_of_calculation">
                            <div class="col-sm-6 m-0 p-0 "> <label for="">Method of Calculation</label></div>
                            <div class="col-sm-6 m-0 p-0">
                                <select name="" id="" class="form-control">
                                    <option value="Based_on_Value" >Based on value</option>
                                    <option value="Based_on_Quntity" id="qlty">Based on quantity</option>    
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row container-fluid p-0 m-0 hide" id="bill_by_bill">
                        <div class="row container-fluid  p-2" id="">
                            <div class="col-sm-6 m-0 p-0"> <label for="c">Maintain balance Bill by Bill</label></div>
                            <div class="col-sm-6 m-0 p-0">
                                <select name="" id="billbybill" class="form-control" onchange="bill()">
                                    <option value="option"></option>
                                    <option value="Yes">Yes</option>
                                    <option value="No">No</option>
                                </select>
                            </div>
                        </div>
                        <div class="row container-fluid hide p-2" id="credit_period">
                            <div class="col-sm-6 m-0 p-0"> <label for="c">Default credit period</label></div>
                            <div class="col-sm-6 m-0 p-0">
                                <input type="text" class="form-control" id="" placeholder="" name="" value="">
                            </div>
                        </div> 
                        <div class="row container-fluid hide p-2" id="voucher_enter">
                            <div class="col-sm-6 m-0 p-0"> <label for="c">Check for credit days during voucher enter</label></div>
                            <div class="col-sm-6 m-0 p-0">
                                <select name="" id="" class="form-control">
                                    <option value="No">No</option>
                                    <option value="Yes">Yes</option>
                                </select>
                            </div>
                        </div> 
                    </div>
                </div> 


                <div class="col-sm-6 m-0 p-4" style=" border-right: 1px solid rgba(128, 128, 128, 0.6);">
                    <div class="row container-fluid  p-0" id=""><h5>Mailing Details</h5></div>
                    <div class="row container-fluid  p-0">
                        <div class="col-sm-6 m-0 p-0"></div>
                        <div class="col-sm-6 m-0 p-0"></div>
                    </div>
                    <div class="row container-fluid  p-2">
                        <div class="col-sm-6 m-0 p-0"> <label for="d">Name</label></div>
                        <div class="col-sm-6 m-0 p-0"><input name="mailingname" type="text" class="form-control" id="mailingname" placeholder=""></div>
                    </div>
                    <div class="row container-fluid  p-2">
                        <div class="col-sm-6 m-0 p-0"> <label for="d">Address</label></div>
                        <div class="col-sm-6 m-0 p-0"><textarea class="form-control" name="address" id="" cols="36" rows="4"></textarea></div>
                    </div>
                    <div class="container-fluid  p-0" id="">
                        <div class="row container-fluid  p-2">
                            <div class="col-sm-6 m-0 p-0"> <label  for="" id="stateLabel">State</label></div>
                            <div class="col-sm-6 m-0 p-0" >
                                <select class="form-control states" name="state" id="">
                                    <option value="Kerala">Kerala</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row container-fluid  p-2">
                        <div class="col-sm-6 m-0 p-0"> <label for="country">Country</label></div>
                        <div class="col-sm-6 m-0 p-0" >
                            <select class="form-control countries" name="country" id="">
                                <option value="India">India</option>
                            </select>
                            
                        </div>
                    </div>
                    <div class="row container-fluid  p-2">
                        <div class="col-sm-6 m-0 p-0"> <label for="d">Pin Code</label></div>
                        <div class="col-sm-6 m-0 p-0"><input type="text" class="form-control" name="pincode"></div>
                    </div>

                    <div class="row container-fluid  p-0" id="bank_details">
                        <h5 class="text-center">Banking Details</h5>
                        <div class="row container-fluid  p-2 m-0">
                            <div class="col-sm-6 m-0 p-0"> <label for="pan">Provide Bank details</label></div>
                            <div class="col-sm-6 m-0 p-0">
                                <select  class="form-control" name="bank_details">
                                    <option value="No">No</option> 
                                    <option value="Yes">Yes</option>
                                </select>
                            </div>  
                        </div>
                    </div>
                    <div class="row container-fluid  p-0" id=""><h5>Tax Registration Details</h5></div>
                    <div class="row container-fluid  p-2">
                        <div class="col-sm-6 m-0 p-0"> <label for="e">PAN / IT No.</label></div>
                        <div class="col-sm-6 m-0 p-0"><input type="text" class="form-control" name="pan_no" id="c"></div>
                    </div>
                    <div class="row container-fluid  p-2">
                        <div class="col-sm-6 m-0 p-0"> <label for="e">Registration Type</label></div>
                        <div class="col-sm-6 m-0 p-0">
                            <select name="registration_type" id="e" class="form-control">
                                <option value="Unknown">Unknown</option> 
                                <option value="Composition">Composition</option>
                                <option value="Consumer">Consumer</option>
                                <option value="Regular" selected>Regular</option>
                                <option value="Unregistred">Unregistred</option>
                            </select>
                        </div>
                    </div>
                    <div class="row container-fluid  p-2">
                        <div class="col-sm-6 m-0 p-0"> <label for="e">GSTIN / UIN</label></div>
                        <div class="col-sm-6 m-0 p-0">
                            <input type="text" class="form-control" name="gst_uin" id="c" placeholder="">
                        </div>
                    </div>
                </div>
            </div> 
            <div class="row container-fluid  p-0 m-0" style=" border: 1px solid rgba(128, 128, 128, 0.6);">
                <div class="col-sm-4 m-0 p-4"></div>
                <div class="col-sm-5 m-0 p-4">
                    <div class="row container-fluid  p-2">
                        <div class="col-sm-6 m-0 p-0"> <label for="d"></label>Opening Balance (On 1-Apr-22)</div>
                        <div class="col-sm-6 m-0 p-0"><input type="text" name="opening_blnc" class="form-control" id="d" placeholder=""></div>
                    </div>
                </div>
                <div class="col-sm-4 m-0 p-4"></div>
            </div>

            <div class="enter w-100 py-4"><button class="btn btn-info w-15">CREATE</button></div>       
        </form>
    </div>
    
{% endblock %}